:root {
  color-scheme: light dark;
  --bg: #0f172a;
  --panel: #111827;
  --panel-border: #1f2937;
  --text: #f8fafc;
  --muted: #94a3b8;
  --accent: #38bdf8;
  --accent-dark: #0ea5e9;
  --danger: #f87171;
  --success: #4ade80;
  --shadow: rgba(15, 23, 42, 0.35);
  --page-bg: linear-gradient(160deg, #020617, #0f172a 45%, #1e293b);
  --custom-bg: none;
}

:root[data-theme="ferra"] {
  color-scheme: dark;
  --bg: #0c0e14;
  --panel: #151823;
  --panel-border: #262b3b;
  --text: #f3f4f6;
  --muted: #9ca3af;
  --accent: #f59e0b;
  --accent-dark: #d97706;
  --danger: #ef4444;
  --success: #22c55e;
  --shadow: rgba(12, 14, 20, 0.5);
  --page-bg: linear-gradient(140deg, #0b0f19 0%, #121826 45%, #1f2937 100%);
}

:root[data-theme="catppuccin-latte"] {
  color-scheme: light;
  --bg: #eff1f5;
  --panel: #e6e9ef;
  --panel-border: #ccd0da;
  --text: #4c4f69;
  --muted: #6c6f85;
  --accent: #1e66f5;
  --accent-dark: #04a5e5;
  --danger: #d20f39;
  --success: #40a02b;
  --shadow: rgba(76, 79, 105, 0.15);
  --page-bg: linear-gradient(160deg, #f8f9fb 0%, #eff1f5 45%, #dce0e8 100%);
}

:root[data-theme="catppuccin-latte"] input,
:root[data-theme="catppuccin-latte"] select {
  background: rgba(255, 255, 255, 0.75);
  color: var(--text);
  border-color: #c7cdda;
}

:root[data-theme="catppuccin-latte"] input::placeholder {
  color: #7c7f93;
}

:root[data-theme="catppuccin-frappe"] {
  color-scheme: dark;
  --bg: #303446;
  --panel: #292c3c;
  --panel-border: #414559;
  --text: #c6d0f5;
  --muted: #a5adce;
  --accent: #8caaee;
  --accent-dark: #7aa2f7;
  --danger: #e78284;
  --success: #a6d189;
  --shadow: rgba(30, 32, 43, 0.45);
  --page-bg: linear-gradient(150deg, #232634 0%, #303446 45%, #414559 100%);
}

:root[data-theme="catppuccin-macchiato"] {
  color-scheme: dark;
  --bg: #24273a;
  --panel: #1e2030;
  --panel-border: #363a4f;
  --text: #cad3f5;
  --muted: #a5adcb;
  --accent: #8aadf4;
  --accent-dark: #7dc4e4;
  --danger: #ed8796;
  --success: #a6da95;
  --shadow: rgba(16, 18, 26, 0.5);
  --page-bg: linear-gradient(150deg, #1b1d2b 0%, #24273a 45%, #363a4f 100%);
}

:root[data-theme="catppuccin-mocha"] {
  color-scheme: dark;
  --bg: #1e1e2e;
  --panel: #181825;
  --panel-border: #313244;
  --text: #cdd6f4;
  --muted: #a6adc8;
  --accent: #89b4fa;
  --accent-dark: #74c7ec;
  --danger: #f38ba8;
  --success: #a6e3a1;
  --shadow: rgba(11, 12, 18, 0.55);
  --page-bg: linear-gradient(150deg, #11111b 0%, #1e1e2e 45%, #313244 100%);
}

:root[data-theme="tokyo-night"] {
  color-scheme: dark;
  --bg: #1a1b26;
  --panel: #16161e;
  --panel-border: #2a2f41;
  --text: #c0caf5;
  --muted: #9aa5ce;
  --accent: #7aa2f7;
  --accent-dark: #4fd6be;
  --danger: #f7768e;
  --success: #9ece6a;
  --shadow: rgba(8, 10, 20, 0.6);
  --page-bg: linear-gradient(150deg, #0f111a 0%, #1a1b26 50%, #2a2f41 100%);
}

:root[data-theme="tokyo-night-storm"] {
  color-scheme: dark;
  --bg: #24283b;
  --panel: #1f2335;
  --panel-border: #3b4261;
  --text: #c0caf5;
  --muted: #a9b1d6;
  --accent: #7aa2f7;
  --accent-dark: #73daca;
  --danger: #f7768e;
  --success: #9ece6a;
  --shadow: rgba(14, 16, 27, 0.55);
  --page-bg: linear-gradient(150deg, #1a1b26 0%, #24283b 50%, #3b4261 100%);
}

:root[data-theme="tokyo-night-moon"] {
  color-scheme: dark;
  --bg: #222436;
  --panel: #1b1d2b;
  --panel-border: #373c58;
  --text: #c8d3f5;
  --muted: #a9b8e8;
  --accent: #82aaff;
  --accent-dark: #65bcff;
  --danger: #ff757f;
  --success: #c3e88d;
  --shadow: rgba(10, 12, 22, 0.6);
  --page-bg: linear-gradient(150deg, #1a1b2a 0%, #222436 50%, #373c58 100%);
}

:root[data-theme="gruvbox-dark"] {
  color-scheme: dark;
  --bg: #282828;
  --panel: #1f1f1f;
  --panel-border: #3c3836;
  --text: #ebdbb2;
  --muted: #bdae93;
  --accent: #fabd2f;
  --accent-dark: #d79921;
  --danger: #fb4934;
  --success: #b8bb26;
  --shadow: rgba(10, 8, 6, 0.6);
  --page-bg: linear-gradient(150deg, #1d2021 0%, #282828 50%, #3c3836 100%);
}

:root[data-theme="gruvbox-light"] {
  color-scheme: light;
  --bg: #fbf1c7;
  --panel: #f2e5bc;
  --panel-border: #d5c4a1;
  --text: #3c3836;
  --muted: #665c54;
  --accent: #d79921;
  --accent-dark: #b57614;
  --danger: #cc241d;
  --success: #98971a;
  --shadow: rgba(60, 56, 54, 0.15);
  --page-bg: linear-gradient(150deg, #fbf1c7 0%, #f2e5bc 50%, #d5c4a1 100%);
}

:root[data-theme="rose-pine"] {
  color-scheme: dark;
  --bg: #191724;
  --panel: #1f1d2e;
  --panel-border: #26233a;
  --text: #e0def4;
  --muted: #908caa;
  --accent: #eb6f92;
  --accent-dark: #9ccfd8;
  --danger: #eb6f92;
  --success: #31748f;
  --shadow: rgba(25, 23, 36, 0.6);
  --page-bg: linear-gradient(150deg, #191724 0%, #1f1d2e 50%, #26233a 100%);
}

:root[data-theme="rose-pine-dawn"] {
  color-scheme: light;
  --bg: #faf4ed;
  --panel: #fffaf3;
  --panel-border: #dfdad9;
  --text: #575279;
  --muted: #797593;
  --accent: #d7827e;
  --accent-dark: #286983;
  --danger: #b4637a;
  --success: #56949f;
  --shadow: rgba(87, 82, 121, 0.15);
  --page-bg: linear-gradient(150deg, #faf4ed 0%, #fffaf3 50%, #f2e9e1 100%);
}

:root[data-theme="rose-pine-moon"] {
  color-scheme: dark;
  --bg: #232136;
  --panel: #2a273f;
  --panel-border: #393552;
  --text: #e0def4;
  --muted: #908caa;
  --accent: #c4a7e7;
  --accent-dark: #9ccfd8;
  --danger: #eb6f92;
  --success: #3e8fb0;
  --shadow: rgba(35, 33, 54, 0.6);
  --page-bg: linear-gradient(150deg, #232136 0%, #2a273f 50%, #393552 100%);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Inter", "Segoe UI", system-ui, sans-serif;
  background-color: var(--bg);
  background-image: var(--custom-bg, none), var(--page-bg);
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  background-attachment: fixed;
  color: var(--text);
  min-height: 100vh;
  padding: 24px;
}

.app-header {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 24px;
}

.app-header h1 {
  font-size: clamp(1.8rem, 4vw, 2.4rem);
  margin-bottom: 6px;
}

.app-header p {
  color: var(--muted);
  max-width: 560px;
}

.status {
  align-self: flex-start;
  padding: 8px 14px;
  border-radius: 999px;
  background: rgba(56, 189, 248, 0.2);
  color: var(--accent);
  font-size: 0.9rem;
}

.app-shell {
  display: grid;
  gap: 20px;
}

.panel {
  background: var(--panel);
  border: 1px solid var(--panel-border);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 20px 40px var(--shadow);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  gap: 12px;
  flex-wrap: wrap;
}

h2 {
  font-size: 1.35rem;
}

h3 {
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.stack {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

input,
select,
button {
  border-radius: 10px;
  border: 1px solid var(--panel-border);
  background: rgba(15, 23, 42, 0.6);
  color: var(--text);
  padding: 10px 12px;
  font-size: 0.95rem;
}

input,
select {
  flex: 1;
}

button {
  background: var(--accent);
  color: #020617;
  border: none;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(14, 165, 233, 0.3);
}

button.secondary {
  background: transparent;
  border: 1px solid var(--panel-border);
  color: var(--text);
}

button.danger {
  background: var(--danger);
  color: #1f0a0a;
  border: none;
}

button.danger:hover {
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
}

.notice {
  margin-top: 12px;
  color: var(--muted);
  font-size: 0.9rem;
}

.pill {
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.85rem;
  background: rgba(74, 222, 128, 0.2);
  color: var(--success);
}

.deck-meta {
  color: var(--muted);
  margin-bottom: 16px;
}

.grid {
  display: grid;
  gap: 16px;
}

.card-list,
.battle-list,
.card-results {
  list-style: none;
  display: grid;
  gap: 12px;
}

.card-results {
  margin-top: 12px;
}

.card-item,
.battle-item,
.result-item {
  border: 1px solid var(--panel-border);
  border-radius: 12px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: rgba(15, 23, 42, 0.4);
}

.card-item header,
.result-item header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.card-item .muted,
.result-item .muted,
.battle-item .muted {
  color: var(--muted);
  font-size: 0.85rem;
}

.battle-opponent {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.card-item button,
.result-item button {
  align-self: flex-start;
}

.battle-item {
  border-left: 4px solid var(--accent-dark);
}

.battle-item.loss {
  border-left-color: var(--danger);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.panel--frosted {
  background: rgba(15, 23, 42, 0.45);
  border: 1px solid rgba(148, 163, 184, 0.2);
  box-shadow: 0 16px 30px rgba(15, 23, 42, 0.35);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.chart-scroll {
  margin-top: 12px;
  overflow-x: auto;
  padding-bottom: 8px;
}

.line-chart {
  width: 100%;
  height: 260px;
  display: block;
}

.line-chart .chart-path {
  fill: none;
  stroke-width: 3;
}

.line-chart .chart-path.wins {
  stroke: var(--success);
}

.line-chart .chart-path.losses {
  stroke: var(--danger);
}

.line-chart .chart-point.wins {
  fill: var(--success);
}

.line-chart .chart-point.losses {
  fill: var(--danger);
}

.line-chart .chart-axis {
  stroke: var(--panel-border);
  stroke-width: 1;
}

.line-chart .chart-grid {
  stroke: rgba(148, 163, 184, 0.2);
  stroke-width: 1;
}

.line-chart .chart-label {
  fill: var(--muted);
  font-size: 0.7rem;
}

.chart-legend {
  display: flex;
  gap: 16px;
  align-items: center;
  margin-top: 8px;
  color: var(--muted);
  font-size: 0.85rem;
}

.legend-item {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.legend-swatch {
  width: 12px;
  height: 12px;
  border-radius: 999px;
}

.legend-item.wins .legend-swatch {
  background: var(--success);
}

.legend-item.losses .legend-swatch {
  background: var(--danger);
}

.stat {
  border: 1px solid var(--panel-border);
  border-radius: 12px;
  padding: 12px;
  background: rgba(15, 23, 42, 0.4);
}

.stat h4 {
  font-size: 0.9rem;
  color: var(--muted);
}

.stat p {
  font-size: 1.2rem;
  margin-top: 4px;
}

.loss-list {
  margin-top: 16px;
  color: var(--muted);
}

.result-meta {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  color: var(--muted);
  font-size: 0.85rem;
}

.helper {
  color: var(--muted);
  font-size: 0.85rem;
}

@media (min-width: 900px) {
  .app-shell {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .panel--wide {
    grid-column: span 2;
  }
}

@media (max-width: 600px) {
  body {
    padding: 16px;
  }

  .panel {
    padding: 16px;
  }

  .row {
    flex-direction: column;
  }
}
